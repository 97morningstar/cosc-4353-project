(this["webpackJsonpcosc-4353-frontend"]=this["webpackJsonpcosc-4353-frontend"]||[]).push([[0],{145:function(e,t){},241:function(e,t,a){},243:function(e,t,a){},711:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(72),r=a.n(o),c=(a(241),a(38)),s=a(13),l=(a(242),a(243),a(78)),d=a(212),j=a.p+"static/media/alert-icon-1559-min.1211b20c.png",u=a(128),b=a(12),O=a(789),m=a(760),h=a(776),x=a(88),p=a.n(x),f=a(2),g=["children","onClose"],v=Object(b.a)(O.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),S=function(e){var t=e.children,a=e.onClose,n=Object(u.a)(e,g);return Object(f.jsxs)(m.a,Object(c.a)(Object(c.a)({sx:{m:0,p:2}},n),{},{style:{width:"200px"},children:[t,a?Object(f.jsx)(h.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(f.jsx)(p.a,{})}):null]}))},y=v,_=a(723),C=a(787),k=a(761),E=a(213),T=a(95),w=a(55),A=(E.a.initializeApp({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_APP_ID}),Object(T.b)()),P=T.a,R=T.c,D=T.d,F=T.e,N=Object(w.d)(),I=a(125),M=a.n(I),U=i.a.createContext();function W(e){var t=e.children,a=Object(n.useState)(null),i=Object(s.a)(a,2),o=i[0],r=i[1],c=Object(n.useState)([]),l=Object(s.a)(c,2),d=l[0],j=l[1],u=Object(n.useState)(!0),b=Object(s.a)(u,2),O=b[0],m=b[1];Object(n.useEffect)((function(){return R(A,(function(e){if(e){var t=Object(w.e)(Object(w.b)(N,"users"),Object(w.f)("uid","==",e.uid));Object(w.c)(t).then((function(e){e.forEach((function(e){r({email:e.data().email,firstName:e.data().firstName,lastName:e.data().firstName,uid:e.data().uid,userid:e.id})}))})).catch((function(e){console.log(e)}))}M.a.get("http://localhost:4000/api/view_all_markers/").then((function(e){var t=["none","low","moderate","major","critical"];j(e.data.map((function(e){var a=e.created_on.substring(0,10).split("-"),n=a[2]+"/"+a[1]+"/"+a[0];return{longitude:parseFloat(e.longitude),latitude:parseFloat(e.latitude),severity:t[e.severity],description:e.description,user_id:e.user_id,created_on:n,image:e.image}})))})).catch((function(e){console.log(e)})),m(!1)}))}),[]);var h={currentUser:o,allMarkers:d,setAllMarkers:j,signup:function(e,t,a,n){return P(A,e,t)},login:function(e,t){return D(A,e,t)},logout:function(){return r(null),F(A)}};return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(U.Provider,{value:h,children:!O&&t})})}var K=i.a.forwardRef((function(e,t){return Object(f.jsx)(k.a,Object(c.a)({direction:"up",ref:t},e))})),H=function(e){var t=i.a.useContext(U).currentUser,a=e.handleCloseViewMarker,n=e.openViewMarker,o=e.information,r=(new Date).toLocaleDateString().slice(0,10);return Object(f.jsxs)(y,{onClose:a,"aria-labelledby":"customized-dialog-title",open:n,TransitionComponent:K,children:[Object(f.jsx)(S,{id:"customized-dialog-title",onClose:a,children:Object(f.jsx)(_.a,{id:"transition-modal-title",children:"Marker Details"})}),Object(f.jsxs)(C.a,{dividers:!0,children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"h6",component:"h6",children:"Description:"}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"p",component:"p",children:o.description?Object(f.jsx)(f.Fragment,{children:" ".concat(o.description)}):Object(f.jsx)(f.Fragment,{children:"No description provided for this event."})}),Object(f.jsx)("br",{}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"h6",component:"h6",children:"Created On:"}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"body2",children:o.created_on?Object(f.jsx)(f.Fragment,{children:" ".concat(o.created_on)}):Object(f.jsx)(f.Fragment,{children:"".concat(r)})}),Object(f.jsx)("br",{}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"h6",component:"h6",children:"Level of Severity:"}),Object(f.jsx)(_.a,{className:"typography"+o.severity,id:"transition-modal-title",variant:"h6",component:"h6",children:o&&Object(f.jsx)(f.Fragment,{children:" ".concat(o.severity)})}),Object(f.jsx)("br",{}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"caption",children:t&&o.user_id==t.uid?Object(f.jsx)(f.Fragment,{children:"This marker was posted by you"}):Object(f.jsx)(f.Fragment,{children:"This marker was posted by one of the members of our community"})})]})]})},L=a(27),z=a(5),B=a(788),V=a(207),q=a.n(V),Y=a(208),G=a.n(Y),J=a(765),Q=a(768),X=a(774),Z=a(777),$=a(763),ee=a(778),te=a(771),ae=a(766),ne=a(154),ie=a.n(ne),oe=i.a.forwardRef((function(e,t){return Object(f.jsx)(k.a,Object(c.a)({direction:"up",ref:t},e))})),re=i.a.forwardRef((function(e,t){return Object(f.jsx)(ae.a,Object(c.a)({elevation:6,ref:t,variant:"filled"},e))})),ce=function(e){var t="floodimagebucket";ie.a.config.update({accessKeyId:"AKIAQIYCI44RQFXMFKWM",secretAccessKey:"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"});var a=new ie.a.S3({params:{Bucket:t},region:"us-east-2"}),o=Object(n.useState)(0),r=Object(s.a)(o,2),l=r[0],d=r[1],j=Object(n.useState)(null),u=Object(s.a)(j,2),b=u[0],O=u[1],m=Object(n.useState)(null),h=Object(s.a)(m,2),x=h[0],p=h[1],g=i.a.useContext(U).currentUser,v=e.marker,k=e.setMarker,E=e.setAllMarkers,T=e.openPostMarker,w=e.setOpenPostMarker,A=e.setOwnMarkers,P=Object(n.useState)(!1),R=Object(s.a)(P,2),D=R[0],F=R[1],N=Object(n.useState)(),I=Object(s.a)(N,2),W=I[0],K=I[1],H=function(){w(!1)},V=function(e){k(Object(c.a)(Object(c.a)({},v),{},Object(z.a)({},e.target.name,e.target.value)))},Y=function(){F(!1)},ae=function(){K(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(y,{onClose:H,"aria-labelledby":"customized-dialog-title",open:T,TransitionComponent:oe,children:[Object(f.jsx)(S,{id:"customized-dialog-title",onClose:H,children:Object(f.jsx)(_.a,{id:"transition-modal-title",children:"Thank you for using our product!"})}),Object(f.jsxs)(C.a,{dividers:!0,children:[Object(f.jsx)(J.a,{id:"outlined-helperText",label:"Description",multiline:!0,rows:4,maxRows:6,name:"description",onChange:V,style:{width:"100%"},helperText:"Please describe any details that could be important about this Flood"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"h6",component:"h6",children:"Please describe the level of severity of this Flood"}),Object(f.jsxs)(X.a,{"aria-label":"gender",defaultValue:"female",id:"severity",name:"severity",row:!0,onChange:V,children:[Object(f.jsx)(Z.a,{value:"none",control:Object(f.jsx)(Q.a,{required:!0,sx:{color:"#353932","&.Mui-checked":{color:"#353932"}}}),label:"None"}),Object(f.jsx)(Z.a,{value:"low",control:Object(f.jsx)(Q.a,{required:!0,sx:{color:"#353932","&.Mui-checked":{color:"#0aa14f"}}}),label:"Low"}),Object(f.jsx)(Z.a,{value:"moderate",control:Object(f.jsx)(Q.a,{required:!0,sx:{color:"#353932","&.Mui-checked":{color:"#1388d7"}}}),label:"Moderate"}),Object(f.jsx)(Z.a,{value:"major",control:Object(f.jsx)(Q.a,{required:!0,sx:{color:"#353932","&.Mui-checked":{color:"#efb90f"}}}),label:"Major"}),Object(f.jsx)(Z.a,{value:"critical",control:Object(f.jsx)(Q.a,{required:!0,sx:{color:"#353932","&.Mui-checked":{color:"#e50000"}}}),label:"Critical"})]}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"h6",component:"h6",children:"Please include any images of the Flood"}),Object(f.jsxs)("div",{children:["Upload Progress: ",l,"%"]}),Object(f.jsx)("input",{type:"file",onChange:function(e){O(e.target.files[0])}})]}),Object(f.jsx)(B.a,{children:Object(f.jsxs)($.a,{spacing:2,direction:"row",children:[Object(f.jsx)(ee.a,{type:"submit",onClick:function(){!function(){if(g)if(v.severity){var e={latitude:v.latitude,longitude:v.longitude,user_id:g.uid,description:v.description?v.description:"",severity:["none","low","moderate","major","critical"].indexOf(v.severity.toString()),image:x||""};M.a.post("http://localhost:4000/api/create_point",e).then((function(e){console.log(e),console.log(v),A((function(e){return[].concat(Object(L.a)(e),[v])})),E((function(e){return[].concat(Object(L.a)(e),[v])})),w(!1),F(!0)})).catch((function(e){console.log(e)}))}else K(!0);else console.log("No account")}(),function(e){var n={Body:e,Bucket:t,Key:e.name};p({imageUrl:"https://floodimagebucket.s3.us-east-2.amazonaws.com/"+n.Key}),console.log(x),a.putObject(n).on("httpUploadProgress",(function(e){d(Math.round(e.loaded/e.total*100))})).send((function(e){e&&console.log(e)}))}(b)},autoFocus:!0,variant:"contained",color:"primary",size:"large",endIcon:Object(f.jsx)(q.a,{}),children:"POST"}),Object(f.jsx)(ee.a,{onClick:H,variant:"outlined",color:"error",size:"large",endIcon:Object(f.jsx)(G.a,{}),children:"CANCEL"})]})})]}),Object(f.jsx)(te.a,{open:D,autoHideDuration:8e3,onClose:Y,children:Object(f.jsx)(re,{onClose:Y,severity:"success",sx:{width:"100%"},children:"You have posted a new marker! Thank you for contributing to the safety of our community!"})}),Object(f.jsx)(te.a,{open:W,autoHideDuration:8e3,onClose:ae,children:Object(f.jsx)(re,{onClose:ae,severity:"error",sx:{width:"100%"},children:"You need to verify your form! The level of severity is required. Thank you for contributing to the safety of our community!"})})]})},se=function(e){var t=i.a.useContext(U),a=t.currentUser,o=t.allMarkers,r=t.setAllMarkers,c=e.setMarker,d=e.marker,u=e.openPostMarker,b=e.setOpenPostMarker,O=Object(n.useState)([]),m=Object(s.a)(O,2),h=m[0],x=(m[1],Object(n.useState)([])),p=Object(s.a)(x,2),g=(p[0],p[1]),v=Object(n.useState)(!1),S=Object(s.a)(v,2),y=S[0],_=S[1],C=Object(n.useState)({}),k=Object(s.a)(C,2),E=k[0],T=k[1];return Object(n.useEffect)((function(){a&&g(o.filter((function(e){return e.user_id==a.uid})))}),[]),Object(n.useEffect)((function(){}),[h]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ce,{marker:d,setMarker:c,setAllMarkers:r,setOwnMarkers:g,openPostMarker:u,setOpenPostMarker:b}),Object(f.jsx)(H,{handleCloseViewMarker:function(){_(!1)},openViewMarker:y,information:E}),o.map((function(e,t){return Object(f.jsx)(l.c,{longitude:e.longitude,latitude:e.latitude,children:Object(f.jsx)("div",{className:"marker-container "+e.severity,children:Object(f.jsx)("img",{width:"25px",src:j,onClick:function(){return function(e){_(!0),T(e),console.log("datum from markers",e),console.log("allMarkers from markers",o)}(e)}})})},t)}))]})},le=a(779),de=a(780),je=a(773),ue=a(781),be=a(156),Oe=a.n(be),me=a(210),he=a.n(me),xe=a(34),pe=a(83);a.n(pe).a.workerClass=a(707).default;var fe,ge="pk.eyJ1IjoicGlvbmVlci1tZSIsImEiOiJja2Q0djI3eDExbDduMnhtdHdxY3BsNXZjIn0.Y6TcDT4HSICrjdzeQxRLoA",ve=function(){var e=Object(n.useState)({latitude:29.7589382,longitude:-95.3676974,zoom:8}),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)({}),j=Object(s.a)(r,2),u=j[0],b=j[1],O=Object(n.useState)(!1),m=Object(s.a)(O,2),h=m[0],x=m[1],p=Object(n.useRef)(),g=Object(n.useRef)(),v=Object(n.useCallback)((function(e){return o(e)}),[]),S=i.a.useContext(U),y=S.currentUser,_=S.logout,C=Object(xe.g)(),k=Object(n.useCallback)((function(e){return v(Object(c.a)(Object(c.a)({},e),{transitionDuration:1e3}))}),[v]);Object(n.useEffect)((function(){}),[]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{style:{height:"100vh",display:"flex",justifyContent:"center"},children:[Object(f.jsx)("div",{style:{position:"absolute",top:"80px",width:"90%",zIndex:1}}),Object(f.jsx)(le.a,{position:"fixed",style:{background:"rgba(25,118,210,1)",display:"flex",width:"100%"},children:Object(f.jsxs)(de.a,{children:[Object(f.jsx)(je.a,{item:!0,xs:1,children:Object(f.jsx)(ue.a,{href:"/",style:{color:"#fff"},children:"NextFlood"})}),Object(f.jsx)(je.a,{ref:p,item:!0,xs:8,justifyContent:"flex-end",style:{marginRight:"20px"}}),y?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(je.a,{item:!0,xs:1,style:{textAlign:"end"},children:["Hello ",y.firstName,"!"]}),Object(f.jsx)(je.a,{item:!0,xs:1,style:{textAlign:"end"},children:Object(f.jsxs)(ee.a,{size:"small",color:"inherit",onClick:function(){_().then((function(e){localStorage.clear(),C.push("/")})).catch((function(e){}))},children:[Object(f.jsx)(Oe.a,{style:{margin:"10px"}}),"LOG OUT"]})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(je.a,{item:!0,xs:1,style:{textAlign:"end"},children:Object(f.jsxs)(ee.a,{size:"small",color:"inherit",href:"/login",children:[Object(f.jsx)(he.a,{style:{margin:"10px"}}),"Login"]})}),Object(f.jsx)(je.a,{item:!0,xs:1,style:{textAlign:"end"},children:Object(f.jsxs)(ee.a,{size:"small",color:"inherit",href:"/signup",children:[Object(f.jsx)(Oe.a,{style:{margin:"10px"}}),"Sign Up"]})})]})]})}),Object(f.jsxs)(l.d,Object(c.a)(Object(c.a)({ref:g},a),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:v,mapboxApiAccessToken:ge,onClick:function(e){var t=Object(s.a)(e.lngLat,2),a=t[0],n=t[1];y?(b({longitude:a,latitude:n}),x(!0)):console.log("No logged in user")},asyncRender:!0,minZoom:8,maxZoom:15,maxPitch:65,children:[Object(f.jsx)(se,{marker:u,setMarker:b,openPostMarker:h,setOpenPostMarker:x}),Object(f.jsx)(d.a,{mapRef:g,containerRef:p,onViewportChange:k,mapboxApiAccessToken:ge,position:"top-left"}),Object(f.jsx)(l.b,{style:{bottom:20,right:20,margin:10},positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})]}))]})})},Se=a(79),ye=a(782),_e=a.p+"static/media/video.cba0a188.mp4",Ce=Object(b.a)(ye.a)(fe||(fe=Object(Se.a)(["\n    position: absolute;\n    top: 0px;\n    filter: blur(2px);\n    filter: brightness(0.4);\n    zIndex: -1;\n   height: 100%;\n   width: 100%;\n   object-fit: fill;\n"]))),ke=function(){var e=Object(xe.g)();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(je.a,{container:!0,children:Object(f.jsxs)(je.a,{item:!0,xs:12,style:{position:"relative",display:"flex",height:"30rem"},children:[Object(f.jsx)(je.a,{item:!0,xs:12,style:Object(z.a)({height:"auto"},"height","100%"),children:Object(f.jsx)(Ce,{component:"video",className:"video",image:_e,autoPlay:!0,loop:!0})}),Object(f.jsxs)(je.a,{item:!0,xs:12,style:{position:"absolute",padding:"2rem 2rem 2rem 4rem",bottom:"0px",height:"auto"},children:[Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"h3",component:"h3",style:{color:"#fff"},children:"NextFlood"}),Object(f.jsx)("br",{}),Object(f.jsx)(_.a,{id:"transition-modal-title",variant:"h6",component:"h6",style:{color:"#fff"},children:"Welcome to the place where you can make our communities a safer place after rainfall events"}),Object(f.jsx)("br",{}),Object(f.jsx)(ee.a,{onClick:function(){e.push("/login")},autoFocus:!0,variant:"contained",color:"primary",size:"large",children:"GET STARTED LOG IN"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(ee.a,{onClick:function(){e.push("/signup")},autoFocus:!0,variant:"contained",color:"primary",size:"large",children:"SIGN UP"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(ee.a,{onClick:function(){e.push("/map")},autoFocus:!0,variant:"contained",color:"primary",size:"large",children:"EXPLORE THE FLOOD MAP"})]})]})})})},Ee=a(75),Te=a(764),we=a(770),Ae=a(784),Pe=a(783),Re=a(785);function De(){var e=n.useContext(U).login,t=n.useState(!1),a=Object(s.a)(t,2),i=a[0],o=a[1],r=n.useState(""),c=Object(s.a)(r,2),l=c[0],d=c[1],j=Object(xe.g)();return Object(f.jsxs)(Pe.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(Te.a,{}),Object(f.jsxs)(Ae.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(f.jsx)(Re.a,{in:i,children:Object(f.jsx)(ae.a,{action:Object(f.jsx)(h.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){o(!1)},children:Object(f.jsx)(p.a,{fontSize:"inherit"})}),sx:{mb:2},severity:"error",children:l})}),Object(f.jsx)(_.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(f.jsxs)(Ae.a,{component:"form",onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget);e(a.get("email"),a.get("password")).then((function(e){localStorage.setItem("token",e.user.accessToken),j.push("/map"),o(!1)})).catch((function(e){console.log(e),d(function(e){var t="";switch(e.code){case"auth/invalid-email":t="Please provide a valid email address";break;case"auth/internal-error":t="Please provide a password";break;case"auth/user-not-found":t="You don't have an account with us. Please sign up.";break;case"auth/wrong-password":t="Wrong password. Please try again.";break;default:t="An undefined error happened."}return t}(e)),o(!0)}))},noValidate:!0,sx:{mt:1},children:[Object(f.jsx)(J.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(f.jsx)(J.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(f.jsx)(Z.a,{control:Object(f.jsx)(we.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(f.jsx)(ee.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(f.jsxs)(je.a,{container:!0,children:[Object(f.jsx)(je.a,{item:!0,xs:!0,children:Object(f.jsx)(ue.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(f.jsx)(je.a,{item:!0,children:Object(f.jsx)(ue.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})}function Fe(){var e=n.useContext(U).signup,t=Object(xe.g)(),a=n.useState(!1),i=Object(s.a)(a,2),o=i[0],r=i[1],c=n.useState(""),l=Object(s.a)(c,2),d=l[0],j=l[1],u=function(e){var t="";switch(e.code){case"auth/weak-password":t="Your password is too weak! We require at least 6 characters.";break;case"auth/email-already-in-use":t="This email is already in use. Please login or use another email.";break;default:t="An undefined error happened."}return t};return Object(f.jsxs)(Pe.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(Te.a,{}),Object(f.jsxs)(Ae.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(f.jsx)(Re.a,{in:o,children:Object(f.jsx)(ae.a,{action:Object(f.jsx)(h.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){r(!1)},children:Object(f.jsx)(p.a,{fontSize:"inherit"})}),sx:{mb:2},severity:"error",children:d})}),Object(f.jsx)(_.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(f.jsxs)(Ae.a,{component:"form",noValidate:!0,onSubmit:function(a){a.preventDefault();var n=new FormData(a.currentTarget);e(n.get("email"),n.get("password"),n.get("firstName"),n.get("lastName")).then((function(e){localStorage.setItem("token",e.user.accessToken),Object(w.a)(Object(w.b)(N,"users"),{firstName:n.get("firstName"),lastName:n.get("lastName"),uid:e.user.uid,email:e.user.email,markers:[]}).then((function(e){console.log("User added to database"),t.push("/map"),console.log("Sign Up from Sign Up component"),r(!1)})).catch((function(e){console.log("Error with Adding user to db"),j(u(e)),r(!0)}))})).catch((function(e){console.log(u(e)),j(u(e)),r(!0)})),console.log({firstName:n.get("firstName"),lastName:n.get("lastName"),email:n.get("email"),password:n.get("password")})},sx:{mt:3},children:[Object(f.jsxs)(je.a,{container:!0,spacing:2,children:[Object(f.jsx)(je.a,{item:!0,xs:12,sm:6,children:Object(f.jsx)(J.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(f.jsx)(je.a,{item:!0,xs:12,sm:6,children:Object(f.jsx)(J.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),Object(f.jsx)(je.a,{item:!0,xs:12,children:Object(f.jsx)(J.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(f.jsx)(je.a,{item:!0,xs:12,children:Object(f.jsx)(J.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),Object(f.jsx)(ee.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(f.jsx)(je.a,{container:!0,justifyContent:"flex-end",children:Object(f.jsx)(je.a,{item:!0,children:Object(f.jsx)(ue.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}var Ne=function(){Object(xe.g)();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ee.a,{children:Object(f.jsxs)(xe.d,{children:[Object(f.jsx)(xe.b,{path:"/",exact:!0,component:ke}),Object(f.jsx)(xe.b,{path:"/login",exact:!0,component:De}),Object(f.jsx)(xe.b,{path:"/map",exact:!0,component:ve}),Object(f.jsx)(xe.b,{path:"/signup",exact:!0,component:Fe})]})})})};r.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(W,{children:Object(f.jsx)(Ne,{})})}),document.getElementById("root"))}},[[711,1,2]]]);
//# sourceMappingURL=main.3d3e4268.chunk.js.map