{"version":3,"sources":["assets/alert-icon-1559-min.png","dialog/BootstrapDialog.js","firebase/firebase.js","context/AuthContext.js","dialog/ViewMarker.js","dialog/PostMarker.js","components/Markers.js","map/FloodMap.js","assets/video.mp4","components/Home.js","components/LogIn.js","components/SignUp.js","App.js","index.js"],"names":["BootstrapDialog","styled","Dialog","theme","padding","spacing","BootstrapDialogTitle","props","children","onClose","other","DialogTitle","sx","m","p","style","width","IconButton","onClick","position","right","top","color","palette","grey","auth","firebase","initializeApp","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","getAuth","signupFirebase","createUserWithEmailAndPassword","setUserFirebase","onAuthStateChanged","logInUserFirebase","signInWithEmailAndPassword","LogOut","signOut","db","getFirestore","AuthContext","React","createContext","AuthProvider","useState","currentUser","setCurrentUser","allMarkers","setAllMarkers","loading","setLoading","useEffect","user","q","query","collection","where","uid","getDocs","then","querySnapshot","forEach","doc","email","data","firstName","lastName","userid","id","catch","err","console","log","axios","get","res","severityArray","map","date","created_on","substring","split","finalDateFormatted","longitude","parseFloat","latitude","severity","description","user_id","image","value","signup","password","login","logout","Provider","Transition","forwardRef","ref","Slide","direction","ViewMarker","useContext","handleCloseViewMarker","openViewMarker","information","today","Date","toLocaleDateString","slice","open","TransitionComponent","Typography","DialogContent","dividers","variant","component","className","Alert","elevation","PostMarker","S3_BUCKET","AWS","config","update","accessKeyId","secretAccessKey","myBucket","S3","params","Bucket","region","progress","setProgress","selectedFile","setSelectedFile","imageUrl","setImageUrl","marker","setMarker","openPostMarker","setOpenPostMarker","setOwnMarkers","successSave","setSuccess","errorSave","setError","handleClosePostMarker","handleMarkerChange","e","target","name","handleCloseSuccess","handleCloseError","TextField","label","multiline","rows","maxRows","onChange","helperText","RadioGroup","defaultValue","row","FormControlLabel","control","Radio","required","type","files","DialogActions","Stack","Button","indexOf","toString","post","markers","handleSave","file","Body","Key","putObject","on","evt","Math","round","loaded","total","send","uploadFile","autoFocus","size","endIcon","Snackbar","autoHideDuration","Markers","setViewMarker","setInformation","filter","el","datum","index","src","alertmarker","handleOpenViewMarker","mapboxgl","workerClass","require","default","MAPBOX_TOKEN","FloodMap","zoom","viewport","setViewport","geocoderContainerRef","useRef","mapRef","handleViewportChange","useCallback","newViewport","history","useHistory","handleGeocoderViewportChange","transitionDuration","height","display","justifyContent","zIndex","AppBar","background","Toolbar","Grid","item","xs","Link","href","marginRight","textAlign","localStorage","clear","push","margin","mapStyle","onViewportChange","mapboxApiAccessToken","lngLat","asyncRender","minZoom","maxZoom","maxPitch","containerRef","bottom","positionOptions","enableHighAccuracy","trackUserLocation","VideoPlayer","CardMedia","Home","container","MainPage","autoPlay","loop","LogIn","openError","setOpenError","error","Container","maxWidth","CssBaseline","Box","marginTop","flexDirection","alignItems","Collapse","in","action","fontSize","mb","onSubmit","event","preventDefault","FormData","currentTarget","setItem","accessToken","errorMessage","code","findError","noValidate","mt","fullWidth","autoComplete","Checkbox","addDoc","sm","App","path","exact","SignUp","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d3e4268.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/alert-icon-1559-min.1211b20c.png\";","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@mui/material/Button';\r\nimport { styled } from '@mui/material/styles';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\r\n  '& .MuiDialogContent-root': {\r\n    padding: theme.spacing(2),\r\n \r\n  },\r\n  '& .MuiDialogActions-root': {\r\n    padding: theme.spacing(1),\r\n   \r\n  },\r\n}));\r\n\r\nexport const BootstrapDialogTitle = (props) => {\r\n  const { children, onClose, ...other } = props;\r\n\r\n  return (\r\n    <DialogTitle sx={{ m: 0, p: 2 }} {...other} style={{ width: '200px'}}>\r\n      {children}\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          onClick={onClose}\r\n          sx={{\r\n            position: 'absolute',\r\n            right: 8,\r\n            top: 8,\r\n            color: (theme) => theme.palette.grey[500],\r\n          }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </DialogTitle>\r\n  );\r\n};\r\n\r\nBootstrapDialogTitle.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BootstrapDialog;\r\n","import firebase from 'firebase/compat/app';\r\nimport { \r\n  getAuth, \r\n  createUserWithEmailAndPassword, \r\n  onAuthStateChanged, \r\n  signInWithEmailAndPassword,\r\n  signOut } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\"\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nexport const auth = getAuth();\r\nexport const signupFirebase = createUserWithEmailAndPassword;\r\nexport const setUserFirebase = onAuthStateChanged;\r\nexport const logInUserFirebase = signInWithEmailAndPassword;\r\nexport const LogOut = signOut;\r\nexport const db = getFirestore(); \r\nexport default app;","import React, { useContext, useState, useEffect } from 'react';\r\nimport { \r\n    auth, \r\n    signupFirebase, \r\n    setUserFirebase, \r\n    logInUserFirebase, \r\n    db,\r\n    LogOut } from '../firebase/firebase'\r\n\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\r\nimport axios from \"axios\";\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport default function AuthProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [allMarkers, setAllMarkers] = useState([]);\r\n\r\n    const [loading, setLoading] = useState(true);\r\n\r\n\r\n    const signup = (email, password, firstName, lastName) => {\r\n        // It returns a Promise. Errors are being handled in the\r\n        // SignUp component\r\n        // Set User in database collection users and bring here\r\n        return signupFirebase(auth, email, password)\r\n    }\r\n\r\n    const login = (email, password) => {\r\n        return logInUserFirebase(auth, email, password);\r\n    }\r\n\r\n    const logout = () => {\r\n        setCurrentUser(null);\r\n        return LogOut(auth);\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = setUserFirebase(auth, user => {\r\n            \r\n           if(user) {\r\n            const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user.uid));\r\n\r\n            getDocs(q)\r\n                .then(querySnapshot => {\r\n                    querySnapshot.forEach((doc) => {\r\n\r\n                        setCurrentUser({\r\n                            email: doc.data().email, \r\n                            firstName: doc.data().firstName, \r\n                            lastName: doc.data().firstName,\r\n                            uid: doc.data().uid,\r\n                            userid: doc.id\r\n                        });\r\n\r\n                        // doc.data() is never undefined for query doc snapshots\r\n                       /* console.log(doc.id, \" => \", doc.data());\r\n                        console.log(doc._key.path.segments[6]);\r\n                        console.log(doc);*/\r\n                    });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                });\r\n\r\n                 }\r\n\r\n\r\n                // Getting all markers\r\n              /*  const q1 = collection(db, \"users\");\r\n\r\n                getDocs(q1)\r\n                .then(querySnapshot => {\r\n                    querySnapshot.forEach((doc) => {\r\n                        setAllMarkers(allMarkers => allMarkers.concat(doc.data().markers));\r\n                    });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                });*/\r\n\r\n                axios.get(\"http://localhost:4000/api/view_all_markers/\")\r\n                .then((res) => {\r\n  \r\n                 let severityArray = ['none', 'low', 'moderate', 'major', 'critical'];  \r\n                  \r\n                  setAllMarkers(res.data.map(data => {\r\n\r\n                    let date = data.created_on.substring(0, 10).split('-')\r\n                 \r\n                    let finalDateFormatted = date[2]+'/'+date[1]+'/'+date[0];\r\n\r\n                      return {\r\n                          longitude: parseFloat(data.longitude),\r\n                          latitude: parseFloat(data.latitude),\r\n                          severity: severityArray[data.severity],\r\n                          description: data.description,\r\n                          user_id: data.user_id,\r\n                         created_on: finalDateFormatted,\r\n                         image: data.image\r\n                      }\r\n                  }));\r\n\r\n                \r\n                  \r\n  \r\n                  //console.log(\"Employee Firstname:\", res.data[0].first_name);\r\n  \r\n                })\r\n                .catch((err) => {\r\n                  console.log(err);\r\n                });\r\n\r\n\r\n           \r\n\r\n            setLoading(false);\r\n         \r\n        })\r\n    \r\n\r\n        return unsubscribe;\r\n    \r\n    }, []);\r\n\r\n\r\n    const value = {\r\n        currentUser,\r\n        allMarkers,\r\n        setAllMarkers,\r\n        signup,\r\n        login,\r\n        logout\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <AuthContext.Provider value={value}>\r\n                {!loading && children}\r\n            </AuthContext.Provider>\r\n        </>\r\n    )\r\n}","import React, { useState, useRef, useCallback, useMemo, useEffect } from \"react\";\r\nimport BootstrapDialog, { BootstrapDialogTitle } from './BootstrapDialog';\r\nimport Typography from '@mui/material/Typography';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Slide from '@mui/material/Slide';\r\nimport AuthProvider, { AuthContext } from '../context/AuthContext';\r\n\r\nconst Transition = React.forwardRef((props, ref) => {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst ViewMarker = (props) => {\r\n\r\n  const { currentUser } = React.useContext(AuthContext);\r\n  const { handleCloseViewMarker, openViewMarker, information } = props\r\n\r\n  let today = new Date().toLocaleDateString().slice(0, 10)\r\n\r\n  return (\r\n    <BootstrapDialog\r\n      onClose={handleCloseViewMarker}\r\n      aria-labelledby=\"customized-dialog-title\"\r\n      open={openViewMarker}\r\n      TransitionComponent={Transition}\r\n\r\n    >\r\n      <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleCloseViewMarker}>\r\n        <Typography id=\"transition-modal-title\" >\r\n          Marker Details\r\n        </Typography>\r\n      </BootstrapDialogTitle>\r\n      <DialogContent dividers >\r\n        <br />\r\n        <br />\r\n        <Typography id=\"transition-modal-title\" variant=\"h6\" component=\"h6\">\r\n          Description:\r\n        </Typography>\r\n        <Typography id=\"transition-modal-title\" variant=\"p\" component=\"p\">\r\n          {information.description ? (\r\n            <>\r\n              {` ${information.description}`}\r\n            </>\r\n          ) : (<>\r\n            No description provided for this event.\r\n          </>\r\n          )\r\n          }\r\n        </Typography>\r\n        <br />\r\n        <Typography id=\"transition-modal-title\" variant=\"h6\" component=\"h6\">\r\n          Created On:\r\n        </Typography>\r\n        <Typography id=\"transition-modal-title\" variant=\"body2\" >\r\n\r\n          {information.created_on ? (\r\n            <>\r\n              {` ${information.created_on}`}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {`${today}`}\r\n            </>\r\n          )\r\n          }\r\n        </Typography>\r\n        <br />\r\n\r\n        <Typography id=\"transition-modal-title\" variant=\"h6\" component=\"h6\">\r\n          Level of Severity:\r\n        </Typography>\r\n        <Typography className={\"typography\" + information.severity} id=\"transition-modal-title\" variant=\"h6\" component=\"h6\">\r\n\r\n          {information && (\r\n            <>\r\n              {` ${information.severity}`}\r\n            </>\r\n          )\r\n          }\r\n        </Typography>\r\n          <br/>\r\n        <Typography id=\"transition-modal-title\" variant=\"caption\" >\r\n          {currentUser && information.user_id == currentUser.uid ? (\r\n            <>\r\n            This marker was posted by you\r\n            </>\r\n          ) : (\r\n            <>\r\n            This marker was posted by one of the members of our community\r\n            </>\r\n          )\r\n\r\n            }\r\n        </Typography>\r\n\r\n      </DialogContent>\r\n    </BootstrapDialog>\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default ViewMarker;","import React, { useState, useRef, useCallback, useMemo, useEffect } from \"react\";\r\nimport BootstrapDialog, { BootstrapDialogTitle } from './BootstrapDialog';\r\nimport Typography from '@mui/material/Typography';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Slide from '@mui/material/Slide';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport TextField from '@mui/material/TextField';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\n// Success/Error Alerts \r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nimport { db } from '../firebase/firebase'\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\nimport { doc, updateDoc, arrayUnion } from \"firebase/firestore\";\r\nimport axios from \"axios\";\r\nimport AWS from 'aws-sdk'\r\n//import S3FileUpload from 'react-s3'\r\n\r\nconst Transition = React.forwardRef((props, ref) => {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\n\r\n\r\nconst PostMarker = (props) => {\r\n    // const config = {\r\n    //     bucketName: 'floodimagebucket',\r\n    //     region:'us-east-2',\r\n    //     accessKeyId: 'AKIAQIYCI44RQFXMFKWM',\r\n    //     secretAccessKey: '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'\r\n    // }\r\n    const S3_BUCKET = 'floodimagebucket'\r\n    const REGION = 'us-east-2'\r\n    const urlPath = 'https://floodimagebucket.s3.us-east-2.amazonaws.com/'\r\n\r\n    AWS.config.update({\r\n        accessKeyId: 'AKIAQIYCI44RQFXMFKWM',\r\n        secretAccessKey: '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'\r\n    })\r\n\r\n    const myBucket = new AWS.S3({\r\n        params: {Bucket: S3_BUCKET},\r\n        region: REGION\r\n    })\r\n\r\n    const [progress, setProgress] = useState(0);\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n    const handleFileInput = (e) => {\r\n        setSelectedFile(e.target.files[0])\r\n    }\r\n    const [imageUrl, setImageUrl] = useState(null)\r\n\r\n\r\n    const uploadFile = (file) => {\r\n        const params = {\r\n            Body: file,\r\n            Bucket: S3_BUCKET,\r\n            Key: file.name\r\n        };\r\n        setImageUrl({\r\n            imageUrl: urlPath+params.Key\r\n        })\r\n        console.log(imageUrl)\r\n        myBucket.putObject(params)\r\n            .on('httpUploadProgress', (evt) => {\r\n                setProgress(Math.round((evt.loaded / evt.total) * 100))\r\n            })\r\n            .send((err) => {\r\n                if (err) console.log(err)\r\n            })\r\n        //imageUrl = (\"https://floodimagebucket.s3.us-east-2.amazonaws.com/\" + params.Key)\r\n        //console.log(imageUrl)\r\n    }\r\n    const { currentUser } = React.useContext(AuthContext);\r\n    const { marker, setMarker, setAllMarkers, openPostMarker, setOpenPostMarker, setOwnMarkers } = props;\r\n\r\n    // Success/Error\r\n    const [successSave, setSuccess] = useState(false);\r\n    const [errorSave, setError] = useState();\r\n\r\n    const handleClosePostMarker = () => {\r\n        setOpenPostMarker(false);\r\n    }\r\n\r\n    const handleMarkerChange = (e) => {\r\n        setMarker({\r\n            ...marker,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n    \r\n\r\n    const handleSave = () => {\r\n\r\n        if (currentUser) {\r\n\r\n            if (marker.severity) {\r\n\r\n\r\n                let severityArray = ['none', 'low', 'moderate', 'major', 'critical'];\r\n\r\n                // console.log(severityArray.indexOf(marker.severity.toString()))\r\n\r\n                const data = {\r\n                    latitude: marker.latitude,\r\n                    longitude: marker.longitude,\r\n                    user_id: currentUser.uid,\r\n                    description: marker.description ? marker.description : \"\",\r\n                    severity: severityArray.indexOf(marker.severity.toString()),\r\n                    image: imageUrl ? imageUrl : \"\" \r\n                }\r\n\r\n                axios.post(\"http://localhost:4000/api/create_point\", data)\r\n                    .then((res) => {\r\n                        console.log(res);\r\n                        console.log(marker);\r\n\r\n                        setOwnMarkers(markers => [...markers, marker])\r\n                        setAllMarkers(markers => [...markers, marker]);\r\n                        setOpenPostMarker(false);\r\n                        setSuccess(true);\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                    })\r\n\r\n                // Update markers array in firestore\r\n                /*  const markerRef = doc(db, 'users', currentUser.userid);\r\n   \r\n                   updateDoc(markerRef,\r\n                       {\r\n                           markers: arrayUnion(data)\r\n                       }\r\n                   ).then(res => {\r\n                       setOwnMarkers(markers => [...   markers, marker])\r\n                      // setMarkers(markers => [...markers, marker]); // success\r\n   \r\n                      setAllMarkers(markers => markers.concat(marker));\r\n   \r\n                       setOpenPostMarker(false);\r\n                       setSuccess(true);\r\n                   })\r\n                       .catch(err => {\r\n                           console.log(err)\r\n                       })*/\r\n\r\n\r\n\r\n\r\n                // axios.post('url', data).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            } else {\r\n                // error\r\n                setError(true);\r\n            }\r\n        } else {\r\n            console.log(\"No account\")\r\n        }\r\n    }\r\n\r\n\r\n    const handleCloseSuccess = () => {\r\n        setSuccess(false);\r\n    }\r\n\r\n    const handleCloseError = () => {\r\n        setError(false);\r\n    }\r\n\r\n\r\n\r\n\r\n    return (<>\r\n        <BootstrapDialog\r\n            onClose={handleClosePostMarker}\r\n            aria-labelledby=\"customized-dialog-title\"\r\n            open={openPostMarker}\r\n            TransitionComponent={Transition}\r\n        >\r\n\r\n            <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleClosePostMarker}>\r\n                <Typography id=\"transition-modal-title\"  >\r\n                    Thank you for using our product!\r\n                </Typography>\r\n            </BootstrapDialogTitle>\r\n            <DialogContent dividers>\r\n                <TextField\r\n                    id=\"outlined-helperText\"\r\n                    label=\"Description\"\r\n                    multiline\r\n                    rows={4}\r\n                    maxRows={6}\r\n                    name=\"description\"\r\n                    onChange={handleMarkerChange}\r\n                    style={{ width: '100%' }}\r\n                    helperText=\"Please describe any details that could be important about this Flood\"\r\n                />\r\n                <br />\r\n                <br />\r\n\r\n                <Typography id=\"transition-modal-title\" variant=\"h6\" component=\"h6\">\r\n                    Please describe the level of severity of this Flood\r\n                </Typography>\r\n\r\n                <RadioGroup\r\n                    aria-label=\"gender\"\r\n                    defaultValue=\"female\"\r\n                    id=\"severity\"\r\n                    name=\"severity\"\r\n                    row\r\n                    onChange={handleMarkerChange}\r\n\r\n                >\r\n                    <FormControlLabel value=\"none\" control={\r\n                        <Radio\r\n                            required={true}\r\n                            sx={{\r\n                                color: '#353932',\r\n                                '&.Mui-checked': {\r\n                                    color: '#353932',\r\n                                },\r\n                            }}\r\n                        />} label=\"None\" />\r\n                    <FormControlLabel value=\"low\" control={\r\n                        <Radio\r\n                            required={true}\r\n                            sx={{\r\n                                color: '#353932',\r\n                                '&.Mui-checked': {\r\n                                    color: '#0aa14f',\r\n                                },\r\n                            }}\r\n                        />} label=\"Low\" />\r\n                    <FormControlLabel value=\"moderate\" control={\r\n                        <Radio\r\n                            required={true}\r\n                            sx={{\r\n                                color: '#353932',\r\n                                '&.Mui-checked': {\r\n                                    color: '#1388d7',\r\n                                },\r\n                            }}\r\n                        />} label=\"Moderate\" />\r\n                    <FormControlLabel value=\"major\" control={\r\n                        <Radio\r\n                            required={true}\r\n                            sx={{\r\n                                color: '#353932',\r\n                                '&.Mui-checked': {\r\n                                    color: '#efb90f',\r\n                                },\r\n                            }}\r\n                        />} label=\"Major\" />\r\n                    <FormControlLabel value=\"critical\" control={\r\n                        <Radio\r\n                            required={true}\r\n                            sx={{\r\n                                color: '#353932',\r\n                                '&.Mui-checked': {\r\n                                    color: '#e50000',\r\n                                },\r\n                            }} />} label=\"Critical\"\r\n\r\n                    />\r\n                </RadioGroup>\r\n\r\n\r\n                <Typography id=\"transition-modal-title\" variant=\"h6\" component=\"h6\">\r\n                    Please include any images of the Flood\r\n                </Typography>\r\n\r\n                <div>Upload Progress: {progress}%</div>\r\n                <input type=\"file\" onChange={handleFileInput}/>\r\n                {/* <button onClick={() => uploadFile(selectedFile)}> Upload to S3 </button> */}\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Stack spacing={2} direction=\"row\">\r\n                    <Button type=\"submit\" onClick={() => {handleSave(); uploadFile(selectedFile);}} autoFocus variant=\"contained\" color=\"primary\" size=\"large\" endIcon={<SendIcon />}>\r\n                        POST\r\n                    </Button>\r\n                    <Button onClick={handleClosePostMarker} variant=\"outlined\" color=\"error\" size=\"large\" endIcon={<CancelIcon />}>\r\n                        CANCEL\r\n                    </Button>\r\n                </Stack>\r\n            </DialogActions>\r\n\r\n        </BootstrapDialog>\r\n\r\n\r\n        <Snackbar open={successSave} autoHideDuration={8000} onClose={handleCloseSuccess}>\r\n            <Alert onClose={handleCloseSuccess} severity=\"success\" sx={{ width: '100%' }}>\r\n                You have posted a new marker! Thank you for contributing to the safety of our community!\r\n            </Alert>\r\n        </Snackbar>\r\n        <Snackbar open={errorSave} autoHideDuration={8000} onClose={handleCloseError}>\r\n            <Alert onClose={handleCloseError} severity=\"error\" sx={{ width: '100%' }}>\r\n                You need to verify your form! The level of severity is required. Thank you for contributing to the safety of our community!\r\n            </Alert>\r\n        </Snackbar>\r\n\r\n\r\n\r\n    </>\r\n    )\r\n}\r\n\r\nexport default PostMarker;","import React, { useState, useRef, useCallback, useMemo, useEffect } from \"react\";\r\n\r\nimport { Marker } from \"react-map-gl\";\r\nimport alertmarker from '../assets/alert-icon-1559-min.png';\r\n\r\nimport ViewMarker from '../dialog/ViewMarker';\r\nimport PostMarker from '../dialog/PostMarker';\r\nimport AuthProvider, { AuthContext } from '../context/AuthContext';\r\n\r\n\r\nconst Markers = (props) => {\r\n\r\n  const { currentUser, allMarkers, setAllMarkers } = React.useContext(AuthContext);\r\n\r\n  const { setMarker, marker, openPostMarker, setOpenPostMarker } = props;\r\n\r\n  //Place Markers\r\n\r\n\r\n  const [markers, setMarkers] = useState([]); // Give all markers\r\n\r\n  const [ownMarkers, setOwnMarkers] = useState([]); // Give own markers\r\n\r\n  const [openViewMarker, setViewMarker] = useState(false);\r\n  const [information, setInformation] = useState({});\r\n\r\n  const handleOpenViewMarker = (datum) => {\r\n    setViewMarker(true);\r\n    setInformation(datum);\r\n\r\n    console.log('datum from markers', datum)\r\n    console.log('allMarkers from markers', allMarkers)\r\n\r\n \r\n  }\r\n\r\n  const handleCloseViewMarker = () => {\r\n    setViewMarker(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(currentUser){\r\n\r\n     // allMarkers.filter()\r\n\r\n\r\n      setOwnMarkers(allMarkers.filter((el) => {\r\n        return el.user_id == currentUser.uid\r\n      }));\r\n      \r\n    }\r\n   \r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    //console.log(\"Component has updated\");\r\n}, [markers]);\r\n\r\n  return (\r\n    <>\r\n      <PostMarker\r\n        marker={marker}\r\n        setMarker={setMarker}\r\n        setAllMarkers={setAllMarkers}\r\n        setOwnMarkers={setOwnMarkers}\r\n        openPostMarker={openPostMarker}\r\n        setOpenPostMarker={setOpenPostMarker}\r\n      />\r\n\r\n      <ViewMarker\r\n        handleCloseViewMarker={handleCloseViewMarker}\r\n        openViewMarker={openViewMarker}\r\n        information={information} />\r\n\r\n      {allMarkers.map((datum, index) => (\r\n        <Marker key={index} longitude={datum.longitude} latitude={datum.latitude}>\r\n          <div className={\"marker-container \" + datum.severity} >\r\n            <img width=\"25px\" src={alertmarker} onClick={() => handleOpenViewMarker(datum)} />\r\n          </div>\r\n        </Marker>\r\n      ))}\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default Markers;","import \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport '../react-map-gl-geocoder/dist/mapbox-gl-geocoder.css';\r\nimport React, { useState, useRef, useCallback, useEffect } from \"react\";\r\nimport MapGL, { GeolocateControl } from \"react-map-gl\";\r\nimport Geocoder from \"react-map-gl-geocoder\";\r\nimport Markers from '../components/Markers';\r\n\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Grid from '@mui/material/Grid';\r\nimport Link from '@mui/material/Link';\r\nimport Button from '@mui/material/Button';\r\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\n\r\n\r\nimport {\r\n  useHistory,\r\n} from 'react-router-dom';\r\n\r\n// Firebase Code\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\n// @ts-ignore\r\nimport mapboxgl from \"mapbox-gl\";\r\n// @ts-ignore\r\n// eslint-disable-next-line import/no-webpack-loader-syntax, import/no-unresolved\r\nmapboxgl.workerClass = require(\"worker-loader!mapbox-gl/dist/mapbox-gl-csp-worker\").default;\r\n\r\n\r\nconst MAPBOX_TOKEN =\r\n  \"pk.eyJ1IjoicGlvbmVlci1tZSIsImEiOiJja2Q0djI3eDExbDduMnhtdHdxY3BsNXZjIn0.Y6TcDT4HSICrjdzeQxRLoA\";\r\n\r\nconst FloodMap = () => {\r\n  const [viewport, setViewport] = useState({\r\n    latitude: 29.7589382,\r\n    longitude: -95.3676974,\r\n    zoom: 8\r\n  });\r\n  const [marker, setMarker] = useState({});\r\n  const [openPostMarker, setOpenPostMarker] = useState(false);\r\n\r\n  const geocoderContainerRef = useRef();\r\n  const mapRef = useRef();\r\n  const handleViewportChange = useCallback(\r\n    (newViewport) => setViewport(newViewport),\r\n    []\r\n  );\r\n  const { currentUser, logout } = React.useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  // Locate User\r\n  const geolocateStyle = {\r\n    bottom: 20,\r\n    right: 20,\r\n    margin: 10\r\n  };\r\n  const positionOptions = { enableHighAccuracy: true };\r\n\r\n  // if you are happy with Geocoder default settings, you can just use handleViewportChange directly\r\n  const handleGeocoderViewportChange = useCallback(\r\n    (newViewport) => {\r\n      const geocoderDefaultOverrides = { transitionDuration: 1000 };\r\n\r\n      return handleViewportChange({\r\n        ...newViewport,\r\n        ...geocoderDefaultOverrides\r\n      });\r\n    },\r\n    [handleViewportChange]\r\n  );\r\n\r\n  // Handle Click on map\r\n  const handleClickOnMap = ({ lngLat: [longitude, latitude] }) => {\r\n\r\n    if (currentUser) {\r\n      setMarker({ longitude, latitude })\r\n      setOpenPostMarker(true);\r\n    } else {\r\n      console.log('No logged in user');\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n  }, [])\r\n\r\n  const handleLogOut = () => {\r\n    logout()\r\n      .then(res => {\r\n        localStorage.clear();\r\n        history.push('/')\r\n      })\r\n      .catch(err => {\r\n\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div style={{ height: \"100vh\", display: \"flex\", justifyContent: \"center\" }}>\r\n        <div\r\n          style={{ position: \"absolute\", top: '80px', width: \"90%\", zIndex: 1 }}\r\n        />\r\n\r\n\r\n        <AppBar\r\n\r\n          position=\"fixed\" style={{\r\n            background: \"rgba(25,118,210,1)\",\r\n            display: \"flex\",\r\n            width: \"100%\",\r\n          }}>\r\n\r\n          <Toolbar>\r\n            <Grid item xs={1}>\r\n              <Link href=\"/\" style={{ color: '#fff' }}>\r\n                NextFlood\r\n              </Link>\r\n            </Grid>\r\n            <Grid ref={geocoderContainerRef} item xs={8} justifyContent=\"flex-end\" style={{ marginRight: '20px' }}>\r\n\r\n            </Grid>\r\n            {currentUser ? (\r\n              <>\r\n                <Grid item xs={1} style={{ textAlign: 'end' }}>\r\n                  Hello {currentUser.firstName}!\r\n                </Grid>\r\n                <Grid item xs={1} style={{ textAlign: 'end' }}>\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"inherit\"\r\n                    onClick={handleLogOut}\r\n                  >\r\n                    <ExitToAppIcon style={{ margin: '10px' }} />\r\n                    LOG OUT\r\n                  </Button>\r\n                </Grid>\r\n              </>\r\n\r\n            ) : (\r\n              <>\r\n                <Grid item xs={1} style={{ textAlign: 'end' }}>\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"inherit\"\r\n                    href=\"/login\"\r\n                  >\r\n                    <AccountCircleIcon style={{ margin: '10px' }} />\r\n                    Login\r\n                  </Button>\r\n                </Grid>\r\n\r\n                <Grid item xs={1} style={{ textAlign: 'end' }}>\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"inherit\"\r\n\r\n                    href=\"/signup\"\r\n                  >\r\n                    <ExitToAppIcon style={{ margin: '10px' }} />\r\n                    Sign Up\r\n                  </Button>\r\n                </Grid>\r\n              </>\r\n            )\r\n            }\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n\r\n\r\n        <MapGL\r\n          ref={mapRef}\r\n          {...viewport}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          mapStyle=\"mapbox://styles/mapbox/streets-v11\"\r\n          onViewportChange={handleViewportChange}\r\n          mapboxApiAccessToken={MAPBOX_TOKEN}\r\n          onClick={handleClickOnMap}\r\n          asyncRender={true}\r\n          minZoom={8}\r\n          maxZoom={15}\r\n          maxPitch={65}>\r\n\r\n          {<Markers\r\n            marker={marker}\r\n            setMarker={setMarker}\r\n            openPostMarker={openPostMarker}\r\n            setOpenPostMarker={setOpenPostMarker} />}\r\n\r\n\r\n\r\n          <Geocoder\r\n            mapRef={mapRef}\r\n            containerRef={geocoderContainerRef}\r\n            onViewportChange={handleGeocoderViewportChange}\r\n            mapboxApiAccessToken={MAPBOX_TOKEN}\r\n            position=\"top-left\"\r\n          />\r\n\r\n\r\n          <GeolocateControl\r\n            style={geolocateStyle}\r\n            positionOptions={positionOptions}\r\n            trackUserLocation\r\n          />\r\n\r\n        </MapGL>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FloodMap;","export default __webpack_public_path__ + \"static/media/video.cba0a188.mp4\";","import React, { useState, useRef, useCallback } from \"react\";\r\n\r\n\r\n// Main page\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Grid from '@mui/material/Grid';\r\nimport { styled } from '@mui/material/styles';\r\nimport MainPage from '../assets/video.mp4';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\n\r\n// Sign In\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useHistory,\r\n} from 'react-router-dom';\r\n\r\n\r\n\r\nconst VideoPlayer = styled(CardMedia)`\r\n    position: absolute;\r\n    top: 0px;\r\n    filter: blur(2px);\r\n    filter: brightness(0.4);\r\n    zIndex: -1;\r\n   height: 100%;\r\n   width: 100%;\r\n   object-fit: fill;\r\n`;\r\n\r\nconst Home = () => {\r\n  const history = useHistory();\r\n\r\n  const handleLogIn = () => {\r\n    history.push('/login');\r\n  }\r\n\r\n  const handleSignUp = () => {\r\n    history.push('/signup');\r\n  }\r\n\r\n  const handleMap = () => {\r\n    history.push('/map');\r\n  }\r\n\r\n  // This is ready to add more components\r\n  return (<>\r\n\r\n    <Grid container >\r\n\r\n      <Grid item xs={12}\r\n        style={{\r\n          position: 'relative',\r\n\r\n          display: 'flex',\r\n          height: '30rem'\r\n        }}\r\n      >\r\n        <Grid item xs={12} style={{ height: 'auto', height: '100%' }}>\r\n          <VideoPlayer\r\n            component=\"video\"\r\n            className='video'\r\n            image={MainPage}\r\n            autoPlay\r\n            loop\r\n          />\r\n        </Grid>\r\n\r\n\r\n        <Grid item xs={12}\r\n          style={{\r\n            position: 'absolute',\r\n            padding: '2rem 2rem 2rem 4rem',\r\n            bottom: '0px',\r\n            height: 'auto',\r\n          }}\r\n        >\r\n          <Typography id=\"transition-modal-title\" variant=\"h3\" component=\"h3\"\r\n            style={{\r\n              color: '#fff'\r\n            }}\r\n          >\r\n            NextFlood\r\n          </Typography>\r\n          <br />\r\n          <Typography id=\"transition-modal-title\" variant=\"h6\" component=\"h6\"\r\n            style={{\r\n              color: '#fff'\r\n            }}\r\n          >\r\n            Welcome to the place where you can make our communities a safer place after rainfall events\r\n          </Typography>\r\n          <br />\r\n          <Button onClick={handleLogIn} autoFocus variant=\"contained\" color=\"primary\" size=\"large\" >\r\n            GET STARTED LOG IN\r\n          </Button>\r\n          <br />\r\n          <br />\r\n          <Button onClick={handleSignUp} autoFocus variant=\"contained\" color=\"primary\" size=\"large\" >\r\n            SIGN UP\r\n          </Button>\r\n          <br />\r\n          <br />\r\n\r\n          <Button onClick={handleMap} autoFocus variant=\"contained\" color=\"primary\" size=\"large\" >\r\n            EXPLORE THE FLOOD MAP\r\n          </Button>\r\n\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n\r\n\r\n\r\n\r\n    \r\n     \r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    {/*  <FloodMap /> */}\r\n\r\n  </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n\r\n\r\n// TODO\r\n/**\r\n * 1. Don't let the user submit without the required info DONE\r\n * 2. Setup success/error messages DONE\r\n * 3. You can only edit you own posts\r\n * 3.5 Give each marker an id\r\n * 4. When you click on a post you can see the info stored in it on a popup DONE\r\n * 5. Button that will enable the posting feature\r\n * 6. Firebase authorization and authentication part\r\n * 7. Photos and camera modes (look into this) Amazon S3 maybe?\r\n * 7. Ability to filter data in the UI. All in the browser\r\n * 8. Navbar to go to user settings menu\r\n * 9. Divide the code into smaller component files to increase readability\r\n * 10. Work on efficiency/performance of the markers DONE\r\n * 11. \"Is this event still happening?\" question on the form\r\n *\r\n */","\r\nimport * as React from 'react';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport Link from '@mui/material/Link';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\n\r\n// Firebase Code\r\nimport AuthProvider, { AuthContext } from '../context/AuthContext';\r\nimport {\r\n  useHistory,\r\n} from 'react-router-dom';\r\n\r\n// Success/Error Alerts\r\nimport Alert from '@mui/material/Alert';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nexport default function LogIn() {\r\n  const { login } = React.useContext(AuthContext);\r\n\r\n  const [openError, setOpenError] = React.useState(false);\r\n  const [error, setError] = React.useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  const findError = (err) => {\r\n    let errorMessage = \"\";\r\n  \r\n    switch (err.code) {\r\n      case \"auth/invalid-email\":\r\n        errorMessage = \"Please provide a valid email address\";\r\n        break;\r\n      case \"auth/internal-error\":\r\n        errorMessage = \"Please provide a password\";\r\n        break;\r\n      case \"auth/user-not-found\":\r\n        errorMessage = \"You don't have an account with us. Please sign up.\";\r\n        break;\r\n      case \"auth/wrong-password\":\r\n        errorMessage = \"Wrong password. Please try again.\";\r\n        break;\r\n      default:\r\n        errorMessage = \"An undefined error happened.\";\r\n    }\r\n    return errorMessage;\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n\r\n    login(data.get('email'), data.get('password'))\r\n      .then(user => {\r\n      \r\n        localStorage.setItem(\"token\", user.user.accessToken);\r\n        history.push('/map')\r\n        setOpenError(false)\r\n      }).catch(err => {\r\n        console.log(err);\r\n        setError(findError(err)); //Change later\r\n        setOpenError(true)\r\n      });\r\n\r\n   \r\n  };\r\n\r\n  return (\r\n\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <Box\r\n        sx={{\r\n          marginTop: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <Collapse in={openError}>\r\n          <Alert\r\n            action={\r\n              <IconButton\r\n                aria-label=\"close\"\r\n                color=\"inherit\"\r\n                size=\"small\"\r\n                onClick={() => {\r\n                  setOpenError(false);\r\n                }}\r\n              >\r\n                <CloseIcon fontSize=\"inherit\" />\r\n              </IconButton>\r\n            }\r\n            sx={{ mb: 2 }}\r\n            severity=\"error\"\r\n          >\r\n            {error}\r\n          </Alert>\r\n        </Collapse>\r\n\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\r\n          <TextField\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link href=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n\r\n  );\r\n}","\r\nimport * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Link from '@mui/material/Link';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\n\r\n// Firebase Code\r\nimport AuthProvider, { AuthContext } from '../context/AuthContext';\r\nimport { db } from '../firebase/firebase'\r\nimport { collection, addDoc } from \"firebase/firestore\";\r\n\r\nimport {\r\n    useHistory,\r\n} from 'react-router-dom';\r\n\r\n// Success/Error Alerts\r\nimport Alert from '@mui/material/Alert';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nexport default function LogIn() {\r\n    const { signup } = React.useContext(AuthContext);\r\n    const history = useHistory();\r\n    const [openError, setOpenError] = React.useState(false);\r\n    const [error, setError] = React.useState(\"\");\r\n\r\n    const findError = (err) => {\r\n       let errorMessage = \"\";\r\n        switch (err.code) {\r\n            case \"auth/weak-password\":\r\n              errorMessage = \"Your password is too weak! We require at least 6 characters.\";\r\n              break;\r\n            case \"auth/email-already-in-use\":\r\n              errorMessage = \"This email is already in use. Please login or use another email.\";\r\n              break;\r\n            default:\r\n              errorMessage = \"An undefined error happened.\";\r\n          }\r\n          return errorMessage;\r\n    }\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const data = new FormData(event.currentTarget);\r\n\r\n        // It returns a Promise\r\n        signup(data.get('email'), data.get('password'), data.get('firstName'), data.get('lastName'))\r\n            .then(user => {\r\n                localStorage.setItem(\"token\", user.user.accessToken);\r\n                \r\n                addDoc(collection(db, \"users\"), {\r\n                    firstName: data.get('firstName'),\r\n                    lastName: data.get('lastName'),\r\n                    uid: user.user.uid,\r\n                    email: user.user.email,\r\n                    markers: []\r\n                })\r\n                    .then(res => {\r\n                        console.log('User added to database')\r\n                        history.push('/map')\r\n                        console.log('Sign Up from Sign Up component')\r\n                        setOpenError(false)\r\n\r\n                    })\r\n                    .catch(err => {\r\n                        console.log('Error with Adding user to db');\r\n\r\n                        setError(findError(err)); //Change later\r\n                        setOpenError(true)\r\n                    })\r\n\r\n\r\n\r\n            }).catch(err => {\r\n                console.log(findError(err));\r\n\r\n                setError(findError(err)); //Change later\r\n                setOpenError(true)\r\n            });\r\n\r\n\r\n\r\n        // eslint-disable-next-line no-console\r\n        console.log({\r\n            firstName: data.get('firstName'),\r\n            lastName: data.get('lastName'),\r\n            email: data.get('email'),\r\n            password: data.get('password'),\r\n        });\r\n\r\n\r\n    };\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <Box\r\n                sx={{\r\n                    marginTop: 8,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                }}\r\n            >\r\n\r\n                <Collapse in={openError}>\r\n                    <Alert\r\n                        action={\r\n                            <IconButton\r\n                                aria-label=\"close\"\r\n                                color=\"inherit\"\r\n                                size=\"small\"\r\n                                onClick={() => {\r\n                                    setOpenError(false);\r\n                                }}\r\n                            >\r\n                                <CloseIcon fontSize=\"inherit\" />\r\n                            </IconButton>\r\n                        }\r\n                        sx={{ mb: 2 }}\r\n                        severity=\"error\"\r\n                    >\r\n                        {error}\r\n                    </Alert>\r\n                </Collapse>\r\n\r\n\r\n\r\n\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign up\r\n                </Typography>\r\n                <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                autoComplete=\"given-name\"\r\n                                name=\"firstName\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"firstName\"\r\n                                label=\"First Name\"\r\n                                autoFocus\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                id=\"lastName\"\r\n                                label=\"Last Name\"\r\n                                name=\"lastName\"\r\n                                autoComplete=\"family-name\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                id=\"email\"\r\n                                label=\"Email Address\"\r\n                                name=\"email\"\r\n                                autoComplete=\"email\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                required\r\n                                fullWidth\r\n                                name=\"password\"\r\n                                label=\"Password\"\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                autoComplete=\"new-password\"\r\n                            />\r\n                        </Grid>\r\n                       \r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        sx={{ mt: 3, mb: 2 }}\r\n                    >\r\n                        Sign Up\r\n                    </Button>\r\n                    <Grid container justifyContent=\"flex-end\">\r\n                        <Grid item>\r\n                            <Link href=\"/login\" variant=\"body2\">\r\n                                Already have an account? Sign in\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Box>\r\n            </Box>\r\n\r\n        </Container>\r\n\r\n\r\n    );\r\n}","import React from \"react\";\r\nimport FloodMap from \"./map/FloodMap\";\r\nimport Home from \"./components/Home\";\r\nimport PrivateRoute from './private-routes/PrivateRoute';\r\n\r\n// Sign In\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useHistory,\r\n} from 'react-router-dom';\r\n\r\nimport LogIn from \"./components/LogIn\";\r\nimport SignUp from \"./components/SignUp\";\r\n\r\nconst App = () => {\r\n  const history = useHistory();\r\n\r\n\r\n  // This is ready to add more components\r\n  return (<>\r\n   <Router>\r\n      <Switch>\r\n        <Route path='/' exact component={Home} />\r\n        <Route path='/login' exact component={LogIn} />\r\n\r\n        {/** Chanege to Route as anyone can access the map */}\r\n        <Route path='/map' exact component={FloodMap} />\r\n        <Route path='/signup' exact component={SignUp} />\r\n\r\n      </Switch>\r\n      </Router>\r\n\r\n  </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\n\r\n// TODO\r\n/**\r\n * 1. Don't let the user submit without the required info DONE\r\n * 2. Setup success/error messages DONE\r\n * 3. When you click on a post you can see the info stored in it on a popup DONE\r\n * 4. Firebase authorization and authentication part DONE\r\n * 5. Navbar to go to user settings menu DONE\r\n * 6. Divide the code into smaller component files to increase readability DONE\r\n * 7. Work on efficiency/performance of the markers DONE\r\n *\r\n * What is missing?\r\n * \r\n * 1. \"Is this event still happening?\" question on the form\r\n * 2. Ability to filter data in the UI. All in the browser\r\n * 3. Photos and camera modes (look into this) Amazon S3 maybe?\r\n * 4. Button that will enable the posting feature\r\n * \r\n * 5. You can only edit you own posts\r\n * \r\n * \r\n */","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport AuthProvider from './context/AuthContext';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    \r\n     <AuthProvider>\r\n        <App />\r\n      </AuthProvider>\r\n    \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}